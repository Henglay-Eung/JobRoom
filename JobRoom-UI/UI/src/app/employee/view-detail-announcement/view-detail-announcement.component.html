<simple-notifications></simple-notifications>
<app-navbar></app-navbar>
<div class="container" *ngFor="let announ of announcement">
    <div class="row" *ngFor="let item of announcement_pdf">
        <div class="col-xl-12">
            <div class="t-content">
                <div class="row">
                    <div class="col-xl-2 col-lg-2 col-md-2 col-sm-4 col-12">
                        <div class="c-logo">
                            <img src="https://static-00.iconduck.com/assets.00/google-icon-512x512-wk1c10qc.png" alt="company logo" />
                        </div>
                    </div>
                    <div class="col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 left-detail">
                        <div class="row">
                            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 c-position f-m">
                                {{ announ.position }}
                            </div>
                            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 left-side">
                                <div class="c-icon">
                                    <div class="row">
                                        <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 icon">
                                            <span class="material-icons"> location_on </span>
                                        </div>
                                        <div class="col-xl-11 col-lg-10 col-md-10 col-sm-10 col-10 a-location">
                                            <span class="f-m">{{ item.header.location }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="c-icon">
                                    <div class="row">
                                        <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 icon">
                                            <span class="material-icons"> access_time </span>
                                        </div>
                                        <div class="col-xl-11 col-lg-10 col-md-10 col-sm-10 col-10 date">
                                            <span class="f-m">Post Date: {{ announ.createdDate | date:'yyyy-MM-dd' }}</span
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 left-side m-t-0">
                <div class="c-icon">
                  <div class="row">
                    <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 icon">
                      <span class="material-icons"> money </span>
                                        </div>
                                        <div class="col-xl-11 col-lg-10 col-md-10 col-sm-10 col-10 a-location">
                                            <span class="f-m">{{
                        item.header.salary_range === ""
                          ? "~~"
                          : item.header.salary_range
                      }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="c-icon">
                                    <div class="row">
                                        <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1 icon">
                                            <span class="material-icons"> access_time </span>
                                        </div>
                                        <div class="col-xl-8 col-lg-10 col-md-10 col-sm-10 col-10 date">
                                            <span class="f-m">Close Date: {{
                          announ.closedDate === " "
                            ? "~~"
                            : announ.closedDate
                        }}</span
                      >
                    </div>
                    <div
                      class="col-xl-3 col-lg-1 col-md-1 col-sm-1 col-12 col-10"
                    >
                      <button class="btn-create" (click)="openModal(template,announ.id,announ.companyId)">
                        {{ "apply" | translate }}
                      </button>
                      <div class="chat"><i class="far fa-comment-alt" (click)="chat()"></i></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <hr />
        <div class="row">
          <div
            class="col-xl-12 section {{
              item.body.background == '' ? 'd-none' : ''
            }}"
          >
            <span class="f-m">BACKGROUND</span>
                                            <div class="description f-m">
                                                {{ item.body.background }}
                                            </div>
                                        </div>
                                        <div class="col-xl-12 section1 {{
              item.body.job_requirement == '' ? 'd-none' : ''
            }}">
                                            <span class="f-m">JOB REQUIREMENTS</span>
                                            <div class="description f-m">
                                                <ul>
                                                    <li *ngFor="let list of item.body.job_requirement">
                                                        {{ list.list }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 section1 {{
              item.body.job_description == '' ? 'd-none' : ''
            }}">
                                            <span class="f-m">JOB DESCRIPTION</span>
                                            <div class="description f-m">
                                                <ul>
                                                    <li *ngFor="let list of item.body.job_description">
                                                        {{ list.list }}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 section {{
              item.body.how_to_apply == '' ? 'd-none' : ''
            }}">
                                            <span class="f-m">HOW TO APPLY</span>
                                            <div class="description f-m">
                                                {{ item.body.how_to_apply }}
                                            </div>
                                        </div>
                                        <div class="col-xl-12 section2 {{
              item.footer.contact.address == '' ||
              item.footer.contact.website == ''
                ? 'd-none'
                : ''
            }}">
                                            <span class="f-m" style="font-weight: bold">CONTACT</span>
                                            <div class="col-xl-12 c-row">
                                                <div class="row {{
                  item.footer.contact.address == '' ? 'd-none' : ''
                }}">
                                                    <div class="col-xl-1 c-title">Address</div>
                                                    <div class="col-xl-11 f-m">
                                                        : {{ item.footer.contact.address }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-12 c-row {{
                item.footer.contact.website == '' ? 'd-none' : ''
              }}">
                                                <div class="row">
                                                    <div class="col-xl-1 c-title">Website</div>
                                                    <div class="col-xl-11 f-m">
                                                        : {{ item.footer.contact.website }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-12 pdf">
                                        <button class="btn-pdf f-m" (click)="convetToPDF()">
            {{ "download_pdf" | translate }}
          </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ng-template #template>
                        <div class="modal-header f-m">
                            <h4 class="modal-title pull-left f-m f-b">{{ 'apply_for_job' | translate }}</h4>
                            <button type="button" class="close pull-right" d aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12 col-lg-12 app-container">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="appResume" checked name="resume" (change)="onAppResumeTypeTick($event)" style="margin-top: 7px" />
                                        <label class="form-check-label m-l f-m" for="defaultCheck1">
            {{ 'application_resume' | translate }}
          </label>
                                    </div>

                                    <form [ngClass]="isAppTick ? 'inactive' : 'ignore'" class="applyForm" [formGroup]="applyForm" (ngSubmit)="apply()">

                                        <select formControlName="resumes" class="cv-select f-m" (change)="onSelectResumeChange($event.target.value)">
            <option value="" selected>{{'select_cv'|translate}}</option>
            <option class="cv-option-selector" selected *ngFor="let mycv of listcv" value="{{mycv.id}}"  >
              {{mycv.name}}
            </option>
          </select>
                                        <div *ngIf="resumes.touched && resumes.invalid && isAppTick" class="cv-select f-m alert alert-danger">
                                            <div *ngIf="resumes.errors.required">{{ 'Resume_is_required' | translate }}</div>
                                        </div>
                                    </form>
                                </div>

                                <div class="col-md-12 col-lg-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="localResume" name="resume" (change)="onLocalResumeTypeTick($event)" style="margin-top: 7px" />
                                        <label class="form-check-label m-l f-m" for="defaultCheck1">
            {{ 'Locale_Resume' | translate }}
          </label>
                                    </div>

                                    <div [ngClass]="isLocalTick ? 'inactive' : 'ignore'" class="input-local">
                                        <form class="applyForm" [formGroup]="localForm" (ngSubmit)="apply()">
                                            <div class="custom-file">
                                                <input class="custom-file-input" id="customFile" formControlName="localResumes" name="userfile" type="file" (change)="onLocalFileChange($event)" />
                                                <label class="custom-file-label f-m" for="customFile"> {{ 'choose_file' | translate }}</label>
                                            </div>
                                            <div *ngIf="
                localResumes.touched && localResumes.invalid && isLocalTick
              " class="cv-select f-m alert alert-danger">
                                                <div *ngIf="localResumes.errors.required">
                                                    {{ 'Resume_is_required' | translate }}
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn-pdf f-m" [disabled]="
        (!applyForm.valid && isAppTick) || (!localForm.valid && isLocalTick)
      " (click)="apply()" (click)="modalRef.hide()">
    {{ 'apply' | translate }}
    </button>
                        </div>
                    </ng-template>
                    <app-footer></app-footer>
                    <ngx-loading [show]="myLoading" [template]="customLoadingTemplate"></ngx-loading>